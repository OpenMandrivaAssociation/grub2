diff -Naur grub-2.04/Makefile.util.def grub-2.04.tpg/Makefile.util.def
--- grub-2.04/Makefile.util.def	2019-04-23 08:54:47.000000000 +0000
+++ grub-2.04.tpg/Makefile.util.def	2019-10-24 07:45:22.282067146 +0000
@@ -194,7 +194,7 @@
   common = util/config.c;
 
   extra_dist = util/grub-mkimagexx.c;
-
+  cppflags = '-I/usr/include/fuse3';
   ldadd = libgrubmods.a;
   ldadd = libgrubgcry.a;
   ldadd = libgrubkern.a;
@@ -301,7 +301,7 @@
   ldadd = libgrubgcry.a;
   ldadd = libgrubkern.a;
   ldadd = grub-core/lib/gnulib/libgnu.a;
-  ldadd = '$(LIBINTL) $(LIBDEVMAPPER) $(LIBZFS) $(LIBNVPAIR) $(LIBGEOM) -lfuse';
+  ldadd = '$(LIBINTL) $(LIBDEVMAPPER) $(LIBZFS) $(LIBNVPAIR) $(LIBGEOM) -lfuse3';
   condition = COND_GRUB_MOUNT;
 };
 
diff -Naur grub-2.04/configure.ac grub-2.04.tpg/configure.ac
--- grub-2.04/configure.ac	2019-07-03 15:25:10.000000000 +0000
+++ grub-2.04.tpg/configure.ac	2019-10-24 07:48:45.328083596 +0000
@@ -1711,16 +1711,16 @@
 fi
 
 if test x"$grub_mount_excuse" = x ; then
-  AC_CHECK_LIB([fuse], [fuse_main_real], [],
-               [grub_mount_excuse="need FUSE library"])
+  AC_CHECK_LIB([fuse3], [fuse_main_real], [],
+               [grub_mount_excuse="need FUSE3 library"])
 fi
 
 if test x"$grub_mount_excuse" = x ; then
   # Check for fuse headers.
   SAVED_CPPFLAGS="$CPPFLAGS"
-  CPPFLAGS="$CPPFLAGS -DFUSE_USE_VERSION=26"
-  AC_CHECK_HEADERS([fuse/fuse.h], [],
-  	[grub_mount_excuse=["need FUSE headers"]])
+  CPPFLAGS="$CPPFLAGS -I/usr/include/fuse3 -DFUSE_USE_VERSION=30"
+  AC_CHECK_HEADERS([fuse3/fuse.h], [],
+  	[grub_mount_excuse=["need FUSE3 headers"]])
   CPPFLAGS="$SAVED_CPPFLAGS"
 fi
 
diff -Naur grub-2.04/util/grub-mount.c grub-2.04.tpg/util/grub-mount.c
--- grub-2.04/util/grub-mount.c	2019-04-23 08:54:47.000000000 +0000
+++ grub-2.04.tpg/util/grub-mount.c	2019-10-24 07:51:38.759097647 +0000
@@ -16,7 +16,7 @@
  *  You should have received a copy of the GNU General Public License
  *  along with GRUB.  If not, see <http://www.gnu.org/licenses/>.
  */
-#define FUSE_USE_VERSION 26
+#define FUSE_USE_VERSION 30
 #include <config.h>
 #include <grub/types.h>
 #include <grub/emu/misc.h>
@@ -34,7 +34,7 @@
 #include <grub/command.h>
 #include <grub/zfs/zfs.h>
 #include <grub/i18n.h>
-#include <fuse/fuse.h>
+#include <fuse3/fuse.h>
 
 #include <stdio.h>
 #include <unistd.h>
@@ -147,7 +147,7 @@
 }
 
 static int
-fuse_getattr (const char *path, struct stat *st)
+fuse_getattr (const char *path, struct stat *st, struct fuse_file_info *fi)
 {
   struct fuse_getattr_ctx ctx;
   char *pathname, *path2;
@@ -336,7 +336,7 @@
 
 static int 
 fuse_readdir (const char *path, void *buf,
-	      fuse_fill_dir_t fill, off_t off, struct fuse_file_info *fi)
+	      fuse_fill_dir_t fill, off_t off, struct fuse_file_info *fi, enum fuse_readdir_flags fl)
 {
   struct fuse_readdir_ctx ctx = {
     .path = path,
